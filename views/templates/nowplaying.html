<link rel="stylesheet" href="../assets/css/nowplaying.css">
<link rel="stylesheet" href="../assets/css/player.css">
<script>
  var Renderer = require('../renderer');
  var Nav = require('../renderer/nav');
  var Player = require('../renderer/player');
  var NowPlaying = require('../renderer/nowplaying');
</script>

<script>window.WaveSurfer = require('./assets/js/wavesurfer/wavesurfer.min.js');</script>
<script src="../assets/js/jquery.mousewheel.js"></script>
<template>

  <div class="navContent bg solid" id="nowplaying">
    <div class="inner">
      <div id="tips" class="animated zoomIn">
        <div class="animated flipInX">F1&nbsp;for&nbsp;help. Cmd+Alt+S&nbsp;toggles&nbsp;Sidebar.</div>
        <div class="animated flipInX">Resize&nbsp;this&nbsp;window to reveal&nbsp;playlist.</div>
      </div>
      <div class="rsPlayerControlsGroup padding-10">
        <div id="rsPlayerCurrent">

          <span id="currentArtist"></span>

          <div class="pull-right" id="timeContainer">
            <span class="timeElapsed">00:00</span>/<span class="timeTotal">00:00</span>
          </div>
          <span id="currentTitle"></span>
        </div>

        <div id="waveform"></div>

        <div id="rsPlayerControls">
          <div style="width: 20%; float: left; text-align: left">
            <div>
              <a class="playercontrol" onclick=""><span class="fa fa-fw fa-random" title="No shuffling yet // TODO"></span></a>
              <a class="playercontrol" onclick=""><span class="fa fa-fw fa-repeat" title="Currently repeat is always on // TODO"></span></a>
              <!-- <span class="fa fa-fw fa-blank"></span> -->
              <!-- <a class="playercontrol" onclick="Nav.goto('preferences')"><span class="fa fa-fw fa-sliders"></span></a> -->
              <!-- <a class="playercontrol" onclick="Renderer.ipc.togglePlayer()"><span class="fa fa-fw fa-thumb-tack"></span></a> -->
            </div>
          </div>

          <div style="width: 20%; float: right; text-align: right">
            <input type="range" min="0" max="100" value="100" oninput="Player.setVolume(this)" id="rsPlayerVolume"
            style=" margin-top:5px" title="Volume">
          </div>


          <a class="playercontrol big" onclick="Player.prev()"><span class="fa fa-fw fa-step-backward" title="Previous"></span></a>
          <a class="playercontrol big" id="WSPlay"><span class="fa fa-fw fa-play" title="Play"></span></a>
          <a class="playercontrol big" onclick="Player.next()"><span class="fa fa-fw fa-step-forward" title="Next"></span></a>
        </div>

      </div>

      <div id="rsPlayerBrowser">
        <ul class="tabs">
          <li class="active" data-tab-destination="nowplaying-playlist">Playlist</li>
          <li data-tab-destination="nowplaying-add">Add</li>
          <!-- <li data-tab-destination="nowplaying-browser">Browser</li> -->
          <li data-tab-destination="nowplaying-trackinfo">Track info</li>
        </ul>

        <div class="tabContent" rel="nowplaying-playlist">
          <ul class="list" id="nowplaying-playlist"></ul>
        </div>

        <div class="tabContent" rel="nowplaying-add">
          <div id="filedrag" class="filedrag">
            Drag files here
          </div>
          <div class="urlentry">
            <input type="text" value="" placeholder="...or enter a URL here" id="urlinput" />
          </div>
        </div>

        <div class="tabContent hide" rel="nowplaying-browser">
          [Browser here]
        </div>

        <div class="tabContent" rel="nowplaying-trackinfo">
          <div class="padding-0-10">
            <h2>Track info</h2>
            <div id="nowplaying-trackinfo"></div>
          </div>
        </div>



      </div>

    </div>
  </div>


</template>

<script>
$(document).ready(function () {
  Player.ensureWavesurfer();
  // Player.next();
  Player.loadByIndex('active');

  NowPlaying.init();
});
</script>
